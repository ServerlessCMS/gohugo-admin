webpackJsonp([17],{301:function(t,e,n){n(383);var s=n(0)(n(347),n(399),"data-v-445e4897",null);t.exports=s.exports},347:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(8);e.default={components:{Tooltip:s.a},data:function(){return{csrf:"",mounts:[],mountConfig:"",mountConfigModified:"",selectedIndex:-1}},mounted:function(){var t=this;this.$http.get("/api/mounts").then(function(e){t.mounts=[],t.csrf=e.headers["x-csrf-token"];for(var n=e.data.result,s=Object.keys(n),i=0;i<s.length;i++)t.mounts.push({path:s[i],type:n[s[i]].type,desc:n[s[i]].description,conf:n[s[i]].config})}).catch(function(e){t.$onError(e)})},methods:{getMountConfig:function(t){var e=this;this.selectedIndex=t,this.$http.get("/api/mounts/"+this.mounts[t].path.slice(0,-1)).then(function(t){e.mountConfig=JSON.stringify(t.data.result,null,4),e.mountConfigModified=e.mountConfig}).catch(function(t){e.$onError(t)})},postMountConfig:function(){var t=this,e="/api/mounts/"+this.mounts[this.selectedIndex].path.slice(0,-1),n=JSON.parse(this.mountConfigModified);this.$http.post(e,{default_lease_ttl:n.default_lease_ttl.toString(),max_lease_ttl:n.max_lease_ttl.toString()},{headers:{"X-CSRF-Token":this.csrf}}).then(function(n){t.$notify({title:"Success",message:"Mount tuned",type:"success"}),t.$http.get(e).then(function(e){t.mounts[t.selectedIndex].conf=e.data.result,t.mountConfig=JSON.stringify(e.data.result,null,4),t.mountConfigModified=t.mountConfig})}).catch(function(e){t.$onError(e)})}}}},368:function(t,e,n){e=t.exports=n(295)(),e.push([t.i,".button[data-v-445e4897]{margin:5px 0 0}.control .button[data-v-445e4897]{margin:inherit}.fa-trash-o[data-v-445e4897]{color:red}.fa-info[data-v-445e4897]{color:#87cefa}.tooltip[data-v-445e4897]{display:inherit}","",{version:3,sources:["/mnt/windows/shared/workspaces/acentera/serverless-ui/client/views/admin/Mounts.vue"],names:[],mappings:"AACA,yBACE,cAAgB,CACjB,AACD,kCACE,cAAgB,CACjB,AACD,6BACE,SAAW,CACZ,AACD,0BACE,aAAoB,CACrB,AACD,0BACE,eAAiB,CAClB",file:"Mounts.vue",sourcesContent:["\n.button[data-v-445e4897] {\n  margin: 5px 0 0;\n}\n.control .button[data-v-445e4897] {\n  margin: inherit;\n}\n.fa-trash-o[data-v-445e4897] {\n  color: red;\n}\n.fa-info[data-v-445e4897] {\n  color: lightskyblue;\n}\n.tooltip[data-v-445e4897] {\n  display: inherit;\n}\n"],sourceRoot:""}])},383:function(t,e,n){var s=n(368);"string"==typeof s&&(s=[[t.i,s,""]]);n(296)(s,{});s.locals&&(t.exports=s.locals)},399:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tile is-ancestor"},[n("div",{staticClass:"tile is-parent is-vertical is-6"},[n("article",{staticClass:"tile is-child box"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table is-striped is-narrow"},[t._m(0),t._v(" "),n("tbody",t._l(t.mounts,function(e,s){return n("tr",[n("td",{attrs:{width:"68"}},[n("span",{staticClass:"tag is-danger is-pulled-left"},[t._v("\n                    "+t._s(e.type)+"\n                  ")])]),t._v(" "),n("td",[n("tooltip",{attrs:{label:e.desc,placement:"right",type:"info",rounded:!0}},[n("a",{on:{click:function(e){t.getMountConfig(s)}}},[t._v("\n                      "+t._s(e.path)+"\n                    ")])])],1),t._v(" "),n("td",{attrs:{width:"68"}},[n("span",{staticClass:"tag is-primary is-pulled-left"},[t._v("\n                    "+t._s(0===e.conf.default_lease_ttl?"Default":e.conf.default_lease_ttl)+"\n                  ")])]),t._v(" "),n("td",{attrs:{width:"68"}},[n("span",{staticClass:"tag is-primary is-pulled-left"},[t._v("\n                    "+t._s(0===e.conf.max_lease_ttl?"Default":e.conf.max_lease_ttl)+"\n                  ")])])])}))])])])]),t._v(" "),n("div",{staticClass:"tile is-parent is-vertical is-6"},[n("article",{staticClass:"tile is-child box"},[n("h4",{staticClass:"title is-4"},[t._v("Mount Config")]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.mountConfigModified,expression:"mountConfigModified"}],staticClass:"textarea",attrs:{placeholder:"Select a mount"},domProps:{value:t.mountConfigModified},on:{input:function(e){e.target.composing||(t.mountConfigModified=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"field"},[n("p",{staticClass:"control is-pulled-right"},[n("button",{staticClass:"button is-primary is-outlined",attrs:{disabled:t.mountConfig===t.mountConfigModified},on:{click:t.postMountConfig}},[n("span",[t._v("Submit Changes")]),t._v(" "),t._m(1)])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Type")]),t._v(" "),n("th",[t._v("Path")]),t._v(" "),n("th",[t._v("Def_TTL")]),t._v(" "),n("th",[t._v("Max_TTL")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fa fa-check"})])}]}}});
//# sourceMappingURL=17.js.map