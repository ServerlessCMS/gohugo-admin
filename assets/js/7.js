webpackJsonp([7],{311:function(e,t,a){a(388);var s=a(0)(a(357),a(404),"data-v-b50bb9ce",null);e.exports=s.exports},316:function(e,t,a){"use strict";function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,a,r){t=t||"&",a=a||"=";var i={};if("string"!=typeof e||0===e.length)return i;var c=/\+/g;e=e.split(t);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var d=0;d<l;++d){var h,u,p,A,f=e[d].replace(c,"%20"),b=f.indexOf(a);b>=0?(h=f.substr(0,b),u=f.substr(b+1)):(h=f,u=""),p=decodeURIComponent(h),A=decodeURIComponent(u),s(i,p)?n(i[p])?i[p].push(A):i[p]=[i[p],A]:i[p]=A}return i};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},317:function(e,t,a){"use strict";function s(e,t){if(e.map)return e.map(t);for(var a=[],s=0;s<e.length;s++)a.push(t(e[s],s));return a}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,a,c){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?s(i(e),function(i){var c=encodeURIComponent(n(i))+a;return r(e[i])?s(e[i],function(e){return c+encodeURIComponent(n(e))}).join(t):c+encodeURIComponent(n(e[i]))}).join(t):c?encodeURIComponent(n(c))+a+encodeURIComponent(n(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t}},318:function(e,t,a){"use strict";t.decode=t.parse=a(316),t.encode=t.stringify=a(317)},329:function(e,t,a){"use strict";function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{disabled:Boolean,isFullwidth:Boolean,type:String,size:String,checked:Boolean,name:String},data:function(){return{value:null}},beforeMount:function(){this.value=this.checked},mounted:function(){this.$emit("input",this.value=!!this.checked)},computed:{classObject:function(){var e,t=this.type,a=this.size,n=this.value;return e={},s(e,"is-"+t,t),s(e,"is-"+a,a),s(e,"checked",n),e}},watch:{value:function(e){this.$emit("input",e)}}}},330:function(e,t,a){t=e.exports=a(295)(),t.push([e.i,'.switch{--height:22px;-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;outline:0;border-radius:calc(.8 * var(--height));width:calc(1.625 * var(--height));height:var(--height);background-color:#dbdbdb;border:1px solid #dbdbdb;box-sizing:border-box;-webkit-tap-highlight-color:transparent}.switch,.switch input{cursor:pointer;display:inline-block}.switch input{opacity:0;width:100%;height:100%;position:absolute;z-index:1}.switch:after,.switch:before{content:" ";position:absolute;top:0;left:0;height:calc(var(--height) - 2px);border-radius:calc((var(--height) - 2px) / 2);transition:.233s}.switch:before{width:calc(1.625 * var(--height) - 2px);background-color:#dbdbdb}.switch:after{width:calc(var(--height) - 2px);background-color:#fff;box-shadow:0 2px 3px hsla(0,0%,7%,.1)}.switch.checked{border-color:#4a4a4a;background-color:#4a4a4a}.switch.checked:before{-ms-transform:scale(0);transform:scale(0)}.switch.checked:after{-ms-transform:translateX(calc(.625 * var(--height)));transform:translateX(calc(.625 * var(--height)))}.switch.is-white.checked{border-color:#fff;background-color:#fff}.switch.is-black.checked{border-color:#0a0a0a;background-color:#0a0a0a}.switch.is-light.checked{border-color:#f5f5f5;background-color:#f5f5f5}.switch.is-dark.checked{border-color:#363636;background-color:#363636}.switch.is-primary.checked{border-color:#00d1b2;background-color:#00d1b2}.switch.is-info.checked{border-color:#3273dc;background-color:#3273dc}.switch.is-success.checked{border-color:#23d160;background-color:#23d160}.switch.is-warning.checked{border-color:#ffdd57;background-color:#ffdd57}.switch.is-danger.checked{border-color:#ff3860;background-color:#ff3860}.switch.is-small{--height:12px}.switch.is-medium{--height:28px}.switch.is-large{--height:32px}',"",{version:3,sources:["/mnt/windows/shared/workspaces/acentera/serverless-ui/node_modules/vue-bulma-switch/src/Switch.vue"],names:[],mappings:"AACA,QAAQ,cAAc,wBAAwB,qBAAqB,gBAAgB,kBAAkB,UAAU,uCAAwC,kCAAkC,qBAAqB,yBAAyB,yBAAyB,AAAe,sBAAsB,AAAqB,uCAAuC,CAChW,AACD,sBAFgQ,eAAe,AAAsB,oBAAqB,CAGzT,AADD,cAAc,UAAU,AAAqB,WAAW,YAAY,kBAAkB,SAAU,CAC/F,AACD,6BAA6B,YAAY,kBAAkB,MAAM,OAAO,iCAAiC,8CAA8C,gBAAgB,CACtK,AACD,eAAe,wCAAwC,wBAAwB,CAC9E,AACD,cAAc,gCAAgC,sBAAsB,qCAAuC,CAC1G,AACD,gBAAgB,qBAAqB,wBAAwB,CAC5D,AACD,uBAAuB,uBAAuB,kBAAkB,CAC/D,AACD,sBAAsB,qDAAsD,gDAAiD,CAC5H,AACD,yBAAyB,kBAAkB,qBAAqB,CAC/D,AACD,yBAAyB,qBAAqB,wBAAwB,CACrE,AACD,yBAAyB,qBAAqB,wBAAwB,CACrE,AACD,wBAAwB,qBAAqB,wBAAwB,CACpE,AACD,2BAA2B,qBAAqB,wBAAwB,CACvE,AACD,wBAAwB,qBAAqB,wBAAwB,CACpE,AACD,2BAA2B,qBAAqB,wBAAwB,CACvE,AACD,2BAA2B,qBAAqB,wBAAwB,CACvE,AACD,0BAA0B,qBAAqB,wBAAwB,CACtE,AACD,iBAAiB,aAAa,CAC7B,AACD,kBAAkB,aAAa,CAC9B,AACD,iBAAiB,aAAa,CAC7B",file:"Switch.vue",sourcesContent:['\n.switch{--height:22px;-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;outline:0;border-radius:calc(0.8 * var(--height));width:calc(1.625 * var(--height));height:var(--height);background-color:#dbdbdb;border:1px solid #dbdbdb;cursor:pointer;box-sizing:border-box;display:inline-block;-webkit-tap-highlight-color:transparent\n}\n.switch input{opacity:0;display:inline-block;width:100%;height:100%;position:absolute;z-index:1;cursor:pointer\n}\n.switch:before,.switch:after{content:" ";position:absolute;top:0;left:0;height:calc(var(--height) - 2px);border-radius:calc((var(--height) - 2px) / 2);transition:.233s\n}\n.switch:before{width:calc(1.625 * var(--height) - 2px);background-color:#dbdbdb\n}\n.switch:after{width:calc(var(--height) - 2px);background-color:#FFF;box-shadow:0 2px 3px rgba(17,17,17,0.1)\n}\n.switch.checked{border-color:#4a4a4a;background-color:#4a4a4a\n}\n.switch.checked:before{-ms-transform:scale(0);transform:scale(0)\n}\n.switch.checked:after{-ms-transform:translateX(calc(0.625 * var(--height)));transform:translateX(calc(0.625 * var(--height)))\n}\n.switch.is-white.checked{border-color:#fff;background-color:#fff\n}\n.switch.is-black.checked{border-color:#0a0a0a;background-color:#0a0a0a\n}\n.switch.is-light.checked{border-color:#f5f5f5;background-color:#f5f5f5\n}\n.switch.is-dark.checked{border-color:#363636;background-color:#363636\n}\n.switch.is-primary.checked{border-color:#00d1b2;background-color:#00d1b2\n}\n.switch.is-info.checked{border-color:#3273dc;background-color:#3273dc\n}\n.switch.is-success.checked{border-color:#23d160;background-color:#23d160\n}\n.switch.is-warning.checked{border-color:#ffdd57;background-color:#ffdd57\n}\n.switch.is-danger.checked{border-color:#ff3860;background-color:#ff3860\n}\n.switch.is-small{--height:12px\n}\n.switch.is-medium{--height:28px\n}\n.switch.is-large{--height:32px\n}\n'],sourceRoot:""}])},331:function(e,t,a){var s=a(330);"string"==typeof s&&(s=[[e.i,s,""]]);a(296)(s,{});s.locals&&(e.exports=s.locals)},332:function(e,t,a){a(331);var s=a(0)(a(329),a(333),null,null);e.exports=s.exports},333:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"switch",class:e.classObject},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"checkbox",name:e.name,disabled:e.disabled},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{__c:function(t){var a=e.value,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);n?r<0&&(e.value=a.concat(null)):r>-1&&(e.value=a.slice(0,r).concat(a.slice(r+1)))}else e.value=n}}})])},staticRenderFns:[]}},357:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(332),n=a.n(s),r=a(318);t.default={components:{VbSwitch:n.a},data:function(){return{csrf:"",currentPath:"",currentPathCopy:"",tableHeaders:[],tableData:[],tableDataCopy:[],newKey:"",newValue:"",editMode:!1}},mounted:function(){this.changePath(this.currentPath)},computed:{currentPathType:function(){return""===this.currentPath||"/"===this.currentPath?"Mount":"/"===this.currentPath.slice(-1)?"Path":"Secret"},newKeyExists:function(){for(var e=0;e<this.tableData.length;e++)if(this.tableData[e].path===this.newKey)return!0;return!1},constructedPayload:function(){if("Secret"===this.currentPathType){for(var e={},t=0;t<this.tableData.length;t++)e[this.tableData[t].path]=this.tableData[t].desc;return e}return{}}},methods:{deleteItem:function(e){this.tableData.splice(e,1)},getMounts:function(){var e=this;this.$http.get("/api/mounts").then(function(t){e.tableData=[],e.tableHeaders=["Mounts","Description",""],e.csrf=t.headers["x-csrf-token"];for(var a=t.data.result,s=Object.keys(a),n=0;n<s.length;n++)e.tableData.push({path:s[n],type:a[s[n]].type,desc:a[s[n]].description,conf:a[s[n]].config})}).catch(function(t){e.$onError(t)})},changePath:function(e,t){var a=this;if(t){if("Key"===t.type)return;e+=t.path}this.newKey="",this.newValue="",this.editMode=!1,this.confirmDelete=!1,this.$http.get("/api/secrets?path="+e).then(function(e){a.tableData=[],a.currentPath=e.data.path,a.csrf=e.headers["x-csrf-token"];var t=e.data.result;if("/"===a.currentPath.slice(-1)){a.tableHeaders=["Subpaths","Description",""];for(var s=0;s<t.length;s++)a.tableData.push({path:t[s],type:"/"===t[s].slice(-1)?"Path":"Secret"})}else{a.tableHeaders=["Key","Value",""];for(var n=Object.keys(t),r=0;r<n.length;r++)a.tableData.push({path:n[r],type:"Key",desc:t[n[r]]})}}).catch(function(e){a.$onError(e)})},changePathUp:function(){var e=this.currentPath;"/"===this.currentPath.slice(-1)&&(e=this.currentPath.substring(0,this.currentPath.length-1)),this.currentPath=e.substring(0,e.lastIndexOf("/"))+"/",this.changePath(this.currentPath)},type:function(e){switch(this.tableData[e].type){case"Secret":return{tag:!0,"is-info":!0};case"Path":return{tag:!0,"is-primary":!0};case"Key":return{tag:!0,"is-success":!0};default:return{tag:!0,"is-danger":!0}}},addKeyValue:function(){return""===this.newKey||""===this.newValue?void this.$notify({title:"Invalid",message:"key and value must be non-empty",type:"warning"}):this.newKeyExists?void this.$notify({title:"Invalid",message:"key already exists",type:"warning"}):(this.tableData.push({path:this.newKey,type:"Key",desc:this.newValue}),this.newKey="",void(this.newValue=""))},startEdit:function(){this.editMode=!0,this.currentPathCopy=this.currentPath,this.tableDataCopy=JSON.parse(JSON.stringify(this.tableData))},saveEdit:function(){var e=this;""===this.newKey||""===this.newValue||this.newKeyExists||this.addKeyValue();var t=JSON.stringify(this.constructedPayload);this.$http.post("/api/secrets?path="+this.currentPath,r.stringify({body:t}),{headers:{"X-CSRF-Token":this.csrf}}).then(function(t){e.$notify({title:"Success!",message:"",type:"success"}),e.editMode=!1}).catch(function(t){e.$onError(t)})},cancelEdit:function(){this.editMode=!1,this.tableData=this.tableDataCopy,this.currentPath=this.currentPathCopy},addSecret:function(){if(""===this.newKey)return void this.$notify({title:"Invalid",message:"key and value must be non-empty",type:"warning"});this.currentPathCopy=this.currentPath,this.tableDataCopy=JSON.parse(JSON.stringify(this.tableData)),this.currentPath+=this.newKey,this.newKey="",this.editMode=!0,this.tableData=[],this.$notify({title:"This is a draft!",message:"Click save secret to finalize",type:"warning",duration:1e4})},deleteSecret:function(e){var t=this;return e.includes("/")?e.endsWith("/")?void this.$notify({title:"Invalid",message:"Cannot delete a path",type:"warning"}):void this.$http.delete("/api/secrets?path="+e,{headers:{"X-CSRF-Token":this.csrf}}).then(function(a){if(t.$notify({title:"Success!",message:"Secret deleted!",type:"success"}),t.editMode=!1,t.currentPath===e)t.tableData=[];else for(var s=0;s<t.tableData.length;s++)t.currentPath+t.tableData[s].path===e&&t.deleteItem(s)}).catch(function(e){t.$onError(e)}):void this.$notify({title:"Invalid",message:"Cannot delete a mount",type:"warning"})}}}},373:function(e,t,a){t=e.exports=a(295)(),t.push([e.i,".button[data-v-b50bb9ce]{margin:5px 0 0}.control .button[data-v-b50bb9ce]{margin:inherit}.fa-times-circle[data-v-b50bb9ce],.fa-trash-o[data-v-b50bb9ce]{color:red}","",{version:3,sources:["/mnt/windows/shared/workspaces/acentera/serverless-ui/client/views/secrets/index.vue"],names:[],mappings:"AACA,yBACE,cAAgB,CACjB,AACD,kCACE,cAAgB,CACjB,AAID,+DACE,SAAW,CACZ",file:"index.vue",sourcesContent:["\n.button[data-v-b50bb9ce] {\n  margin: 5px 0 0;\n}\n.control .button[data-v-b50bb9ce] {\n  margin: inherit;\n}\n.fa-trash-o[data-v-b50bb9ce] {\n  color: red;\n}\n.fa-times-circle[data-v-b50bb9ce] {\n  color: red;\n}\n"],sourceRoot:""}])},388:function(e,t,a){var s=a(373);"string"==typeof s&&(s=[[e.i,s,""]]);a(296)(s,{});s.locals&&(e.exports=s.locals)},404:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child box"},[a("div",{staticClass:"box is-clearfix"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-fullwidth"},[a("div",{staticClass:"field has-addons"},[a("p",{staticClass:"control"},[a("a",{staticClass:"button is-medium is-primary is-paddingless is-marginless",on:{click:function(t){e.changePathUp()}}},[e._m(0)])]),e._v(" "),a("p",{staticClass:"control is-expanded"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.currentPath,expression:"currentPath",modifiers:{lazy:!0}}],staticClass:"input is-medium is-expanded",attrs:{type:"text",placeholder:"Enter the path of a secret or directory"},domProps:{value:e.currentPath},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.changePath(e.currentPath)},change:function(t){e.currentPath=t.target.value}}})])])])]),e._v(" "),!1===e.editMode&&"Secret"===e.currentPathType?a("a",{staticClass:"button is-success is-small is-marginless",on:{click:e.startEdit}},[e._v("\n            Edit Secret\n          ")]):e._e(),e._v(" "),!1===e.editMode&&"Secret"===e.currentPathType?a("a",{staticClass:"button is-danger is-small is-marginless",on:{click:function(t){e.deleteSecret(e.currentPath)}}},[e._v("\n            Delete Secret\n          ")]):e._e(),e._v(" "),!0===e.editMode&&"Secret"===e.currentPathType?a("a",{staticClass:"button is-success is-small is-marginless",on:{click:e.saveEdit}},[e._v("\n            Save Secret\n          ")]):e._e(),e._v(" "),!1===e.editMode&&"Path"===e.currentPathType?a("a",{staticClass:"button is-info is-small is-marginless",on:{click:e.startEdit}},[e._v("\n            Add Secret\n          ")]):e._e(),e._v(" "),!0===e.editMode?a("a",{staticClass:"button is-warning is-small is-marginless",on:{click:e.cancelEdit}},[e._v("\n            Cancel Edit\n          ")]):e._e(),e._v(" "),a("span",{staticClass:"tag is-danger is-unselectable is-pulled-right"},[e._v("Mount")]),e._v(" "),a("span",{staticClass:"tag is-primary is-unselectable is-pulled-right"},[e._v("Path")]),e._v(" "),a("span",{staticClass:"tag is-info is-unselectable is-pulled-right"},[e._v("Secret")]),e._v(" "),a("span",{staticClass:"tag is-success is-unselectable is-pulled-right"},[e._v("Key")])]),e._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table is-striped is-narrow"},[a("thead",[a("tr",[a("th",[e._v("Type")]),e._v(" "),e._l(e.tableHeaders,function(t){return a("th",[e._v(e._s(t))])})],2)]),e._v(" "),a("tbody",[e._l(e.tableData,function(t,s){return a("tr",[a("td",{attrs:{width:"68"}},[a("span",{staticClass:"tag is-pulled-left",class:e.type(s)},[e._v("\n                    "+e._s(t.type)+"\n                  ")])]),e._v(" "),e.editMode&&"Secret"===e.currentPathType?a("td",[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.path,expression:"entry.path"}],staticClass:"input is-small",attrs:{type:"text",placeholder:""},domProps:{value:t.path},on:{input:function(e){e.target.composing||(t.path=e.target.value)}}})])]):a("td",[a("a",{on:{click:function(a){e.changePath(e.currentPath,t)}}},[e._v("\n                    "+e._s(t.path)+"\n                  ")])]),e._v(" "),e.editMode&&"Secret"===e.currentPathType?a("td",[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"entry.desc"}],staticClass:"input is-small",attrs:{type:"text",placeholder:""},domProps:{value:t.desc},on:{input:function(e){e.target.composing||(t.desc=e.target.value)}}})])]):a("td",[e._v("\n                  "+e._s(t.desc)+"\n                ")]),e._v(" "),a("td",{attrs:{width:"68"}},[e.editMode&&"Secret"===e.currentPathType?a("a",{on:{click:function(t){e.deleteItem(s)}}},[e._m(1,!0)]):e._e(),e._v(" "),"Path"===e.currentPathType&&"Secret"===t.type?a("a",{on:{click:function(a){e.deleteSecret(e.currentPath+t.path)}}},[e._m(2,!0)]):e._e()])])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:e.editMode&&"Secret"===e.currentPathType,expression:"editMode && currentPathType === 'Secret'"}],on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.addKeyValue()}}},[a("td",{attrs:{width:"68"}}),e._v(" "),a("td",[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKey,expression:"newKey"}],staticClass:"input is-small",class:[""===e.newKey?"":"is-success",e.newKeyExists?"is-danger":""],attrs:{type:"text",placeholder:"Add a key"},domProps:{value:e.newKey},on:{input:function(t){t.target.composing||(e.newKey=t.target.value)}}})])]),e._v(" "),a("td",[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],staticClass:"input is-small",class:[""===e.newValue?"":"is-success"],attrs:{type:"text",placeholder:"Add a value"},domProps:{value:e.newValue},on:{input:function(t){t.target.composing||(e.newValue=t.target.value)}}})])])]),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:e.editMode&&"Path"===e.currentPathType,expression:"editMode && currentPathType === 'Path'"}],on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.addSecret()}}},[a("td",{attrs:{width:"68"}}),e._v(" "),a("td",[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKey,expression:"newKey"}],staticClass:"input is-small",class:[""===e.newKey?"":"is-success",e.newKeyExists?"is-danger":""],attrs:{type:"text",placeholder:"Add a new secret"},domProps:{value:e.newKey},on:{input:function(t){t.target.composing||(e.newKey=t.target.value)}}})])])])],2),e._v(" "),a("tfoot",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>10,expression:"tableData.length > 10"}]},[a("tr",[a("th",[e._v("Type")]),e._v(" "),e._l(e.tableHeaders,function(t){return a("th",[e._v(e._s(t))])})],2)])],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-paddingless is-marginless"},[a("i",{staticClass:"fa fa-angle-up is-paddingless is-marginless"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-times-circle"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-trash-o"})])}]}}});
//# sourceMappingURL=7.js.map